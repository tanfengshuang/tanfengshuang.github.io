---
layout: post
title:  "Introduction to Red Hat Gluster Storage(236-1)"
categories: Linux
tags: RHCA 236
---

### 红帽 Gluster 存储功能

###### 关于红帽 Gluster 存储

红帽 Gluster 存储（以前称为“红帽存储服务器”）通过一种开源软件定义型存储解决方案，提供跨越物理、虚拟和云资源的连续存储平台。红帽 Gluster 存储构建于红帽企业 Linux GlusterFS 基础上，通过专门设计的横向扩展架构组合文件与对象存储，从而高效存储和管理非结构化数据增长，并可在不牺牲扩展性或性能的前提下提供高成本效益的高可用存储。

###### 重要功能

红帽 Gluster 存储基于 GlusterFS 项目的成果，提供构建于商用硬件的企业级存储解决方案。下方概述了红帽 Gluster 存储的一些更引人注目的功能：

*    纵向扩展/横向扩展： 可以随时通过添加更多存储到个别服务器或添加更多服务器到存储池，来扩充红帽 Gluster 存储池容量、冗余能力和可用性，不会有停机时间。
*    分散化： 与其他分布式存储系统不同，红帽 Gluster 存储不依赖于中央元数据服务器来定位文件。相反，文件通过特定算法放到卷的不同成员中，从而能轻松检索到，同时消除单一故障点或 I/O 瓶颈。这可在添加额外存储服务器时实现性能线性扩展。
*    高可用性： 在多个服务器之间进行同步镜像，实现数据高可用性。利用异地复制将数据异步镜像到远程数据中心，满足灾难恢复的需要。
*    无应用重写： 红帽 Gluster 存储为客户端提供兼容 POSIX 的文件系统，无需重写应用来使用存储。
*    商用硬件： 红帽 Gluster 存储设计为在商用 AMD64 和 Intel 64 硬件上运行。这使得管理员能够利用成本相对低廉的组件来构建企业级存储网络。
*    裸机和云： 红帽 Gluster 存储可以部署到裸机计算机上、私有云中，或 Amazon EC2、Microsoft Azure 和 Google 云平台等公共云中。 

### 红帽 Gluster 存储用例

红帽 Gluster 存储凭借灵活性、高性能和可扩展性，成为各种用例的理想选择，应用范围十分广泛。本节重点介绍其中的一些用例，以展示红帽 Gluster 存储的潜力。

###### 近线和归档存储

大多数公司具有不断扩大的存储需求，因此使用的存储解决方案务必要能够轻松扩展，并且能被广泛的客户端访问，而无需专用的客户端软件。红帽 Gluster 存储可以轻松部署到各式各样的环境中。

此类型的工作负载的关键特征包括：

*    可扩展性
*    兼容性（符合 POSIX 规范，客户端广泛）
*    高可用性
*    高效访问

###### 高性能计算

高性能计算群集通常需要能够迅速访问大量数据。红帽 Gluster 存储为这种工作负载提供经济实惠的解决方案。

此类型的工作负载的关键特征包括：

*    可扩展性，最高达 PB 量级。
*    高性能，无瓶颈
*    支持 InfiniBand
*    兼容性（符合 POSIX 规范，客户端广泛）

###### 内容云

对于向互联网客户分发多媒体（及其他）内容的公司而言，通常必须处理的文件即便未达 PB 量级也会有数百 TB。通过 Web 前端提供这些文件可能是巨大挑战。红帽 Gluster 存储可以帮助解决这个问题。

此类型的工作负载的关键特征包括：

*    可扩展性
*    兼容性（符合 POSIX 规范，客户端广泛）
*    高可用性
*    访问统一文件和对象（利用 Swift）
    
### 红帽 Gluster 存储概念和术语

###### 术语

如同任何技术一样，红帽  Gluster 存储也利用自己的术语来描述概念和功能。此处介绍了最为重要的一些。

*    受信存储池： 若要让存储群集中的多个服务器一同工作，它们必须显式互相信任。当红帽 Gluster 存储服务器首先启动时，它将从属于一个受信存储池，自身为其唯一的成员。以后可以通过添加更多服务器组成更大的池。
*    节点： 加入受信存储池或群集的服务器有时被称为节点。一个节点只能是一个受信存储池的成员。
*    Brick： 红帽 Gluster 存储允许多个文件系统（称为 Brick）组合为一个更大的文件系统（称为卷。SERVER:MOUNTPOINT/DIRECTORY 语法用于指代 brick；例如，storageserver1.example.com:/exports/myfirstbrick。一个 brick 只能是一个卷的成员。
*    元数据： 元数据是关于一个或多个数据片段的数据。元数据的示例包括文件名、最近修改时间、所有者和权限等。
*    卷： 一个卷就是向客户端呈现的一个文件系统。卷由其上存储了数据的一个或多个 brick 组成。至于哪些文件存储在什么位置上，这取决于卷类型以及所存储文件的文件名。
*    弹性哈希算法： 在卷上定位文件时，池中的每一红帽 Gluster 存储服务器可以智能定位任何数据片段，不必查询索引或其他服务器。这通过对所请求数据的文件名进行哈希运算，在目标卷中定位所需的 brick。 

### 红帽 Gluster 存储硬件要求

###### 物理要求

目前，只有一部分认证用于 Red Hat Enterprise Linux 的硬件获得了用于红帽 Gluster 存储的认证，但这一名单定期得到更新。如需最新的认证兼容硬件的列表，请参见以下参考资料中所列的兼容性页面。总体而言，仅 2 插槽（4 核、6 核或 8 核）计算机受到支持。它们应当在硬件 RAID6 或 RAID 1+0 阵列（各自为 12 个驱动器，使用 2 或 3 TB 驱动器）中设置直连存储。每一驱动器/RAID 控制器应当基于闪存或配有电池，确保在电源故障时保障数据完整性。

RAM 要求根据工作负载的类型而异，但范围为最低 16 GiB（归档工作负载）到最低 48 GiB（HPC 工作负载）。

对于网络，建议至少配备两张万兆以太网网卡，但也支持安装两张千兆以太网网卡。

###### 虚拟要求

红帽 Gluster 存储 3.1 虚拟服务器支持在红帽企业虚拟化 3.5 或更高版本上运行。它们也支持在 VMware vSphere 5.x、6.x 和 ESXi 5.x、6.x 上运行。虚拟机应当配置至少 4 个 vCPU 和至少 16 GiB 内存。

###### 公共云要求

红帽提供 AMI 映像，以用于在 Amazon Elastic Cloud (EC2) 上运行红帽 Gluster 存储。Google 云平台和 Microsoft Azure 中也有全面支持的产品。

###### 例外

在使用任何最小、最大或支持的配置时，或者在需要运行通常不受红帽支持的设置时，可以申请架构审查。参考资料部分中针对此部分列出的硬件兼容性文章概述了如何申请架构审查。

架构审查是正常红帽支持协议的一部分，但部分设置可能还需要利用红帽专业服务。

### 总结

本章中，您学到了：

*    如何描述红帽 Gluster 存储的主要功能，包括扩展、POSIX 兼容性和使用商用硬件。
*    如何描述红帽 Gluster 存储的不同用例，如归档和近线存储、HPC 以及内容云。
*    如何定义与红帽 Gluster 存储相关的各种术语，如 brick、受信存储池和卷。
*    如何描述红帽 Gluster 存储环境的硬件要求。 
