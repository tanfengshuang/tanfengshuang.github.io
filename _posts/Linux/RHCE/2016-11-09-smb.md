---
layout: post
title:  "Samba"
categories: Linux
tags: RHCE samba
---


Linux Unix <-> Linux Unix	local 		nfs
				internet 	ftp http

windows <-> windows		NetBios(MAC)  NBT(tcp/ip)
Linux       Linux 	

NBT	file share/name/domain

name(xiaoming) --> nmb wins B --> IP
FQDN(xiaoming.uplook.cn) --> dns --> IP


```
# rpm -qa | grep samba
# service smb restart

# mount -t cifs -o username=administrator //192.168.3.129/uplook /mnt

# smbclient -L //192.168.3.129/ -U administrator

# smbclient //192.168.3.129/ -U administrator
smb: \> ls
smb: \> get intel.jpg
smb: \> quit
```

测试smb参数配置，并生成一个没有注释的配置文件
```
# testparm
```
```
[sales]
	comment = Sales Team
	path = /cfile/sales
	public = yes
	printable = no
	write list = +sales

[market]
        comment = Market Team
        path = /cfile/market
        public = yes
        printable = no
        write list = +market

[dev]
        comment = Dev Team
        path = /cfile/dev
        public = yes
        printable = no
        write list = +dev
```

```
groupadd sales
groupadd market
groupadd dev

useradd mary
usermod -G sales mary

mkdir /cfiles; cd /cfiles
mkdir sales
mkdir market
mkdir dev
chgrp sales sales
chgrp market market
chgrp dev dev
chmod 770 sales
chmod g+s sales/
```

